(this["webpackJsonpfoxgame2.0"]=this["webpackJsonpfoxgame2.0"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),o=n(5),a=n.n(o),r=(n(11),n(1)),l=Object(c.createContext)(null),s="rain",d="day",u="night",b="dead",j="DEAD",m="SLEEP",O="HUNGRY",v="HATCHING",T="IDLING",f="POOPING",g="CELEBRATING",h="FEEDING",x={IDLING:"idling",HATCHING:"egg",SLEEP:"sleep",CELEBRATING:"celebrate",HUNGRY:"hungry",FEEDING:"eating",DEAD:"dead",POOPING:"pooping",POOPED:"pooped"},p=function(e){return Math.floor(3*Math.random())+5+e},k=function(e){return Math.floor(2*Math.random())+4+e},N=n(3),C=n(0),E=function(){var e=Object(c.useContext)(l);return Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)("button",{className:"btn left-btn"}),Object(C.jsx)("button",{className:"btn middle-btn",onClick:null===e||void 0===e?void 0:e.startGame}),Object(C.jsx)("button",{className:"btn right-btn"})]})},I=function(){var e=Object(c.useContext)(l);return Object(C.jsxs)("div",{className:"icons",children:[Object(C.jsx)("div",{className:"icon fish-icon",onClick:function(){return null===e||void 0===e?void 0:e.handleUserAction("fish")}}),Object(C.jsx)("div",{className:"icon poop-icon",onClick:function(){null===e||void 0===e||e.handleUserAction("poop")}}),Object(C.jsx)("div",{className:"icon weather-icon",onClick:function(){return null===e||void 0===e?void 0:e.handleUserAction("weather")}})]})},S=function(){var e=Object(c.useContext)(l);return Object(C.jsx)("div",{className:Object(N.a)("modal"),children:Object(C.jsx)("div",{className:"modal-inner",children:"INIT"===(null===e||void 0===e?void 0:e.gameState.current)?"Press the middle button to start":"DEAD"===(null===e||void 0===e?void 0:e.gameState.current)?"The Fox is dead :(":""})})},G=function(e){return Object(N.a)((null===e||void 0===e?void 0:e.cleaning)&&"POOPED"===(null===e||void 0===e?void 0:e.current)?"poop-bag":"")},P=function(e){return Object(N.a)("fox","fox-".concat(x[(null===e||void 0===e?void 0:e.current)||""]),{hidden:"INIT"===(null===e||void 0===e?void 0:e.current),"fox-pooped":(null===e||void 0===e?void 0:e.current)===f,"fox-rain":(null===e||void 0===e?void 0:e.scene)===s})},A=function(){var e,t=Object(c.useContext)(l);return Object(C.jsxs)("div",{className:"inner",children:[Object(C.jsx)("div",{className:(e=null===t||void 0===t?void 0:t.gameState,Object(N.a)("game",(null===e||void 0===e?void 0:e.scene)||d))}),Object(C.jsx)("div",{className:P(null===t||void 0===t?void 0:t.gameState)}),Object(C.jsx)("div",{className:G(null===t||void 0===t?void 0:t.gameState)}),Object(C.jsx)("div",{className:"foreground-rain"}),Object(C.jsx)("div",{className:"frame"}),Object(C.jsx)(S,{}),Object(C.jsx)(E,{}),Object(C.jsx)(I,{})]})},D=function(){var e=Object(c.useContext)(l);return Object(c.useEffect)((function(){var t=setInterval((function(){null===e||void 0===e||e.setGameState(Object(r.a)(Object(r.a)({},e.gameState),{},{clock:e.gameState.clock+1})),null===e||void 0===e||e.performFoxActions()}),1500);return function(){clearInterval(t)}})),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)(A,{})})},w=n(6),y=function(e){var t={current:"INIT",clock:1,wakeTime:-1,sleepTime:-1,hungryTime:-1,dieTime:-1,poopTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1,cleaning:!1,scene:d},n=i.a.useState(t),c=Object(w.a)(n,2),o=c[0],a=c[1],x=function(){a(Object(r.a)(Object(r.a)({},t),{},{current:v,wakeTime:t.clock+3,scene:d}))};return Object(C.jsx)(l.Provider,{value:{startGame:x,handleUserAction:function(e){if(![m,h,g,v].includes(o.current))if("INIT"!==o.current&&o.current!==j)switch(e){case"weather":a(Object(r.a)(Object(r.a)({},o),{},{scene:o.scene===s?d:(o.scene,s)}));break;case"poop":a(Object(r.a)(Object(r.a)({},o),{},{dieTime:-1,timeToStartCelebrating:o.clock+2,hungryTime:p(o.clock),current:"POOPED",cleaning:!0}));break;case"fish":!function(){var e;o.current===O&&a(Object(r.a)(Object(r.a)({},o),{},{current:h,dieTime:-1,poopTime:(e=o.clock,Math.floor(3*Math.random())+3+e),timeToStartCelebrating:o.clock+2}))}()}else x()},setGameState:a,gameState:o,performFoxActions:function(){o.clock===o.wakeTime?a(Object(r.a)(Object(r.a)({},o),{},{current:T,wakeTime:-1,sleepTime:o.clock+60,hungryTime:p(o.clock),scene:Math.random()>.2?d:s})):o.clock===o.sleepTime?a(Object(r.a)(Object(r.a)({},o),{},{scene:u,current:m,wakeTime:o.clock+4,sleepTime:-1,hungryTime:-1,dieTime:-1,poopTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1})):o.clock===o.hungryTime?a(Object(r.a)(Object(r.a)({},o),{},{current:O,dieTime:k(o.clock),hungryTime:-1})):o.clock===o.timeToStartCelebrating?a(Object(r.a)(Object(r.a)({},o),{},{current:g,timeToStartCelebrating:-1,timeToEndCelebrating:o.clock+2,cleaning:!1})):o.clock===o.timeToEndCelebrating?a(Object(r.a)(Object(r.a)({},o),{},{current:T,timeToEndCelebrating:-1})):o.clock===o.poopTime?a(Object(r.a)(Object(r.a)({},o),{},{current:f,poopTime:-1,dieTime:k(o.clock)})):o.clock===o.dieTime&&a(Object(r.a)(Object(r.a)({},o),{},{current:j,scene:b,sleepTime:-1,hungryTime:-1,dieTime:-1,poopTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1}))}},children:e.children})};n(13),n(14);var M=function(){return Object(C.jsx)("div",{children:Object(C.jsx)(y,{children:Object(C.jsx)(D,{})})})};a.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.6aaed31f.chunk.js.map